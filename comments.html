<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comments | SkillSwap Hub</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <section class="page active fade-in">
        
        <div class="glass" style="margin: 60px auto 20px; padding:25px; max-width:650px; text-align:center;">
            <h2 class="section-title">Community Comments</h2>
            <p>Newest comments appear first</p>
        </div>

        <div id="allComments" class="card-container" style="padding:20px;"></div>
    </section>

    <script>
        let comments = JSON.parse(localStorage.getItem("comments")) || [];

        function loadComments() {
            const wrap = document.getElementById("allComments");
            wrap.innerHTML = "";

            if (comments.length === 0) {
                wrap.innerHTML = `
                    <div class="glass" style="padding:25px; margin:auto; text-align:center;">
                        <p>No comments found yet.</p>
                    </div>`;
                return;
            }

            // Sort newest first
            comments.sort((a, b) => b.time - a.time);

            comments.forEach(c => {
                wrap.innerHTML += `
                <div class="glass fade-in" style="padding:18px;">
                    <h3 style="font-size:18px;">${c.text}</h3>
                    <p style="margin-top:10px; opacity:0.8; font-size:14px;">
                        Posted on: ${new Date(c.time).toLocaleString()}
                    </p>
                </div>
                `;
            });
        }

        loadComments();
    </script>

</body>
</html>
